import{d as c,W as u,R as h,aa as k,o as t,e as a,F as n,f as o,u as s,a4 as C,w as m,a as i,a3 as p,n as b}from"./app.d1109b7e.js";import{J as w}from"./AuthenticationCardLogo.bc4634f2.js";import{_ as V}from"./Button.434d1007.js";import{_ as y}from"./Input.89377d6a.js";import{_ as v}from"./Label.b37dc091.js";import{_ as z}from"./ValidationErrors.e76af4b3.js";import"./plugin-vue_export-helper.21dcd24c.js";const F=c("img",{class:"mx-auto h-12 w-auto",src:"/storage/header_logo.png"},null,-1),I=c("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Autenticazione a 2 Fattori",-1),T={class:"mb-4 text-sm text-gray-600"},U=["onSubmit"],$={key:0},A={key:1},B={class:"flex items-center justify-end mt-4"},N=["onClick"],D={__name:"TwoFactorChallenge",setup(E){const r=u(!1),e=h({code:"",recovery_code:""}),_=u(null),f=u(null),x=async()=>{r.value^=!0,await k(),r.value?(_.value.focus(),e.code=""):(f.value.focus(),e.recovery_code="")},g=()=>{e.post(route("two-factor.login"))};return(J,l)=>(t(),a(n,null,[o(s(C),{title:"Two-factor Confirmation"}),o(w,null,{logo:m(()=>[F,I]),default:m(()=>[c("div",T,[r.value?(t(),a(n,{key:1},[i(" Conferma l'accesso inserendo uno dei tuoi codici di recupero ")],64)):(t(),a(n,{key:0},[i(" Conferma l'accesso inserendo il codice che appare sul tuo Authenticator ")],64))]),o(z,{class:"mb-4"}),c("form",{onSubmit:p(g,["prevent"])},[r.value?(t(),a("div",A,[o(v,{for:"recovery_code",value:"Codice di recupero"}),o(y,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:_,modelValue:s(e).recovery_code,"onUpdate:modelValue":l[1]||(l[1]=d=>s(e).recovery_code=d),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(t(),a("div",$,[o(v,{for:"code",value:"Codice di autenticazione"}),o(y,{id:"code",ref_key:"codeInput",ref:f,modelValue:s(e).code,"onUpdate:modelValue":l[0]||(l[0]=d=>s(e).code=d),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),c("div",B,[c("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:p(x,["prevent"])},[r.value?(t(),a(n,{key:1},[i(" Usa un codice di autenticazione ")],64)):(t(),a(n,{key:0},[i(" Usa un codice di recupero ")],64))],8,N),o(V,{class:b(["ml-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:m(()=>[i(" Entra ")]),_:1},8,["class","disabled"])])],40,U)]),_:1})],64))}};export{D as default};
