import{cF as le,b8 as u,da as E,ag as N,C as f,aj as M,ax as he,c as m,$ as S,H as h,bC as W,D as ae,Y as ve,P as K,cQ as _e,db as de,I,m as q,bg as k,l as F,dc as ce,dd as $,J as x,i as V,Q as b,cJ as L,ay as R,K as A,de as pe,au as Y,u as fe}from"./check_box.c2296870.js";var P=function(e){for(var t=0,a=0,i=0;i<e.length;++i)if(e[i]==="'"&&t++,e[i]==="."&&(++a,t%2===0))return{occurrence:a,index:i};return{occurrence:1,index:-1}},U=function(e,t,a){for(var i=-1;a--&&i++<e.length;)i=e.indexOf(t,i);return i},j=function(e,t){return t===-1?[e]:[e.slice(0,t),e.slice(t+1)]},me=function(e,t){return e&&le(e/100,t)},D=function(e,t){if(typeof t=="string"){var a=t.split(";"),i=u.getSign(e,t);a[1]=a[1]||"-"+a[0],t=a[i<0?1:0],t=(s=t,s.replace(/'([^']*)'/g,o=>o.split("").map(()=>" ").join("").substr(2)));var r=/^[^#0.,]*/.exec(t)[0].length,n=/[^#0.,]*$/.exec(t)[0].length;return{start:r,end:e.length-n}}else return{start:0,end:e.length};var s},G=function(e,t){var a=u.getDecimalSeparator(),i=new RegExp("[^0-9"+E(a)+"]","g"),r=t.slice(0,e);return r.replace(i,"").length},J=function(e){return e.split("").reverse().join("")},Q=function(e,t){if(!e)return-1;for(var a=/[0-9]/g,i=1,r=null,n=a.exec(t);n;){if(r=n.index,i>=e)return r;i++,n=a.exec(t)}return r===null?t.length:r},ge=function(e){return e.replace(/[^0-9e]+$/,"")},p=function(e,t){return e.start===void 0&&(e={start:e,end:e}),{start:e.start+t,end:e.end+t}},Ve=function(e,t,a,i){a=p(a,0);var r=u.getDecimalSeparator(),n=be(e),s=P(i).occurrence,o=n?0:U(e,r,s),l=U(t,r,s),v=j(e,o),_=j(t,l),c=o!==-1&&a.start>o;if(c){var B=a.start-o-1,O=G(B,v[1]),T=_[1]?l+1+Q(O,_[1])+1:t.length;return d(T,t,i)}else{var z=ge(_[0]),ne=v[0].length-a.start,se=G(ne,J(v[0])),oe=Q(se,J(z)),ue=z.length-(oe+1);return d(ue,t,i)}};function be(e){return e.length===1&&!!e.match(/^[,.][0-9]*$/g)}var Be=function(e,t,a){e=p(e,0);var i=d(e,t,a);return e.start>=i.start&&e.end<=i.end};function d(e,t,a){e=p(e,0);var i=D(t,a),r={start:N(e.start,i.start,i.end),end:N(e.end,i.start,i.end)};return r}var Ce=function(e,t,a){var i=D(e,a),r=D(t,a);return r.start-i.start},xe="dx-numberbox-spin",Se="dx-numberbox-spin-button",Te=100,ie="dxNumberBox",X=f(M.up,ie),Z=f(M.cancel,ie),g=he.inherit({_getDefaultOptions:function(){return m(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e=xe+"-"+this.option("direction");this.$element().addClass(Se).addClass(e),this._spinIcon=S("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=f(M.down,this.NAME),t=this.$element();h.off(t,e),h.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),h.on(this.$element(),W.name,function(){this._feedBackDeferred=new ae,ve(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,Te,{event:e})}.bind(this));var t=K.getDocument();h.on(t,X,this._clearTimer.bind(this)),h.on(t,Z,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){h.off(this.$element(),W.name);var e=K.getDocument();h.off(e,X),h.off(e,Z),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}}),ye="dx-numberbox-spin",Ee="dx-numberbox-spin-container",Ie="dx-numberbox-spin-touch-friendly";class Fe extends _e{_attachEvents(t,a){var{editor:i}=this,r=f(M.down,i.NAME),n=a.children(),s=i._createAction(o=>i._spinButtonsPointerDownHandler(o));h.off(a,r),h.on(a,r,o=>s({event:o})),g.getInstance(n.eq(0)).option("onChange",o=>i._spinUpChangeHandler(o)),g.getInstance(n.eq(1)).option("onChange",o=>i._spinDownChangeHandler(o))}_create(){var{editor:t}=this,a=S("<div>").addClass(Ee),i=S("<div>").appendTo(a),r=S("<div>").appendTo(a),n=this._getOptions();return this._addToContainer(a),t._createComponent(i,g,m({direction:"up"},n)),t._createComponent(r,g,m({direction:"down"},n)),this._legacyRender(t.$element(),this._isTouchFriendly(),n.visible),{instance:a,$element:a}}_getOptions(){var{editor:t}=this,a=this._isVisible(),i=t.option("disabled");return{visible:a,disabled:i}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,a,i){t.toggleClass(Ie,a),t.toggleClass(ye,i)}update(){var t=super.update();if(t){var{editor:a,instance:i}=this,r=a.$element(),n=this._isVisible(),s=this._isTouchFriendly(),o=i.children(),l=g.getInstance(o.eq(0)),v=g.getInstance(o.eq(1)),_=this._getOptions();l.option(_),v.option(_),this._legacyRender(r,s,n)}}}var Pe=Math,Ne="dx-numberbox",De=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Me="NumberBoxForceValueChange",Oe=de.inherit({_supportedKeys:function(){return m(this.callBase(),{upArrow:function(e){I(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow:function(e){I(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter:function(){}})},_getDefaultOptions:function(){return m(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:q.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:Fe}])},_isSupportInputMode:function(){var e=parseFloat(k.version);return k.chrome&&e>=66||k.safari&&e>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return F.real().generic&&!F.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return F.real().deviceType!=="desktop"&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(Ne),this.callBase()},_getDefaultAttributes:function(){var e=this.callBase();return e.inputmode="decimal",e},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=S("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(ce(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var t=$(e),a=/[\d.,eE\-+]/.test(t);if(!a){var i=x(e);return I(e)||i&&De.includes(i)?void 0:(e.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)},_renderValue:function(){var e=this._input().val(),t=this.option("value");(!e.length||Number(e)!==t)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var a=V(t)?null:q.format("dxNumberBox-noDataText");return this.setAria({valuenow:b(t,""),valuetext:a}),this.option("text",this._input().val()),this._updateButtons(),new ae().resolve()},_forceValueRender:function(){var e=this.option("value"),t=Number(e),a=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(a)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:b(this.option("min"),""),valuemax:b(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();!this.option("useLargeSpinButtons")&&K.getActiveElement()!==e[0]&&h.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,t){var a=parseFloat(this.option("step"));if(a!==0){var i=parseFloat(this._normalizeInputValue())||0;i=this._correctRounding(i,a*e);var r=this.option("min"),n=this.option("max");V(r)&&(i=Math.max(r,i)),V(n)&&(i=Math.min(n,i)),this._saveValueChangeEvent(t),this.option("value",i)}},_correctRounding:function(e,t){var a=/[,.](.*)/,i=a.test(e),r=a.test(t);if(i||r){var n=i?a.exec(e)[0].length:0,s=r?a.exec(t)[0].length:0,o=Pe.max(n,s);return e=this._round(e+t,o),e}return e+t},_round:function(e,t){t=t||0;var a=Math.pow(10,t);return e*=a,e=Math.round(e)/a,e},_renderValueChangeEvent:function(){this.callBase();var e=f("focusout",Me);h.off(this.element(),e),h.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var e=this._input(),t=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(t)}},_valueChangeEventHandler:function(e){var t=this._input(),a=this._normalizeText(),i=this._parseValue(a),r=a!=="."&&a!=="-";if(this._isValueValid()&&!this._validateValue(i)){t.val(this._applyDisplayValueFormatter(i));return}r&&this.callBase(e,isNaN(i)?null:i),this._applyValueBoundaries(a,i),this.validationRequest.fire({value:i,editor:this})},_applyValueBoundaries:function(e,t){var a=this._isValueIncomplete(e),i=this._isValueInRange(e);!a&&!i&&t!==null&&Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e=this.option("mode")==="number",t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return L(e,this.option("min"),this.option("max"))},_isNumber:function(e){return this._parseValue(e)!==null},_validateValue:function(e){var t=this._normalizeText(),a=this._isValueValid(),i=!0,r=this._isNumber(t);return isNaN(Number(e))&&(i=!1),!e&&a?i=!0:!r&&!a&&(i=!1),this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),i},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var t=parseFloat(e);return isNaN(t)?null:N(t,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){this.option("value")===null?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}}),w="dxNumberFormatter",y=1,H=-1,ee="-",C="minus",ke="input",te=0,re=Oe.inherit({_getDefaultOptions:function(){return m(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(e){return e==="del"},_supportedKeys:function(){return this._useMaskBehavior()?m(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,H),rightArrow:this._arrowHandler.bind(this,y),home:this._moveCaretToBoundaryEventHandler.bind(this,y),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,H)}):this.callBase()},_getTextSeparatorIndex:function(e){var t=u.getDecimalSeparator(),a=P(this.option("format")).occurrence;return U(e,t,a)},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){var a=this._getInputVal(),i=this._getTextSeparatorIndex(a);i>=0?this._caret({start:i,end:i}):this._moveCaretToBoundaryEventHandler(H,e)}}.bind(this),te)),this.callBase(e)},_focusOutHandler:function(e){var t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(e),t&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(e){var t=this._getFormatPattern(),a=this.option("value"),i=this._format(a,t)||"";return i!==e},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&h.trigger(this._input(),"change"))},_arrowHandler:function(e,t){if(!!this._useMaskBehavior()){var a=this._getInputVal(),i=this._getFormatPattern(),r=p(this._caret(),e);Be(r,a,i)||(r=e===y?r.end:r.start,t.preventDefault(),this._caret(d(r,a,i)))}},_moveCaretToBoundary:function(e){var t=D(this._getInputVal(),this._getFormatPattern()),a=p(e===y?t.start:t.end,0);this._caret(a)},_moveCaretToBoundaryEventHandler:function(e,t){!this._useMaskBehavior()||t&&t.shiftKey||(this._moveCaretToBoundary(e),t&&t.preventDefault())},_shouldMoveCaret:function(e,t){var a=u.getDecimalSeparator(),i=e.charAt(t.end)===a,r=(this._lastKey===a||this._lastKey==="."||this._lastKey===",")&&i;return r},_getInputVal:function(){return u.convertDigits(this._input().val(),!0)},_keyboardHandler:function(e){if(this.clearCaretTimeout(),this._lastKey=u.convertDigits($(e),!0),this._lastKeyName=x(e),!this._shouldHandleKey(e.originalEvent))return this.callBase(e);var t=this._getInputVal(),a=this._caret(),i=this._lastKeyName===C?"":this._lastKey,r=this._tryParse(t,a,i);return this._shouldMoveCaret(t,a)&&(this._moveCaret(1),e.originalEvent.preventDefault()),r===void 0?this._lastKeyName!==C&&e.originalEvent.preventDefault():this._parsedValue=r,this.callBase(e)},_keyPressHandler:function(e){this._useMaskBehavior()||this.callBase(e)},_removeHandler:function(e){var t=this._caret(),a=this._getInputVal(),i=t.start,r=t.end;this._lastKey=$(e),this._lastKeyName=x(e);var n=this._isDeleteKey(this._lastKeyName),s=!n;if(i===r){var o=i,l=s&&o>0||n&&o<a.length;if(l)n&&r++,s&&i--;else{e.preventDefault();return}}var v=a.slice(i,r);if(this._isStub(v)){this._moveCaret(n?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(e),this._setTextByParsedValue()),e.preventDefault();return}var _=u.getDecimalSeparator();if(v===_){var c=a.indexOf(_);this._isNonStubAfter(c+1)&&(this._moveCaret(n?1:-1),e.preventDefault());return}if(r-i<a.length){var B=this._replaceSelectedText(a,{start:i,end:r},""),O=B.search(/[0-9]/)<0;if(O&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var T=this._tryParse(a,{start:i,end:r},"");T===void 0?e.preventDefault():this._parsedValue=T},_isPercentFormat:function(){var e=this._getFormatPattern(),t=e.replace(/'[^']+'/g,"");return t.indexOf("%")!==-1},_parse:function(e,t){var a=this.option("format"),i=R(a.parser),r=i?a.parser:u.parse,n=0;if(!i){var s=P(t).index,o=this._getTextSeparatorIndex(e),l=s!==-1?s:t.length,v=o!==-1?o:e.length;v>l&&t.indexOf("#")===-1&&(n=v-l)}return e=e.substr(n),r(e,t)},_format:function(e,t){var a=this.option("format"),i=(a==null?void 0:a.formatter)||a,r=R(i)?i:u.format,n=e===null?"":r(e,t);return n},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var e=this.option("format"),t=R(e==null?void 0:e.parser),a=A(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0),i=e==="exponential"||(e==null?void 0:e.type)==="exponential",r=t||a||i;this._currentFormat=r?e:pe(n=>{var s=this._format(n,e);return u.convertDigits(s,!0)})},_getFormatForSign:function(e){var t=this._getFormatPattern();if(A(t)){var a=t.split(";"),i=u.getSign(e,t);return a[1]=a[1]||"-"+a[0],i<0?a[1]:a[0]}else{var r=u.getSign(e);return r<0?"-":""}},_removeStubs:function(e,t){var a=this._getFormatForSign(e),i=u.getThousandsSeparator(),r=this._getStubs(a),n=e;if(r.length){var s=r[0],o=new RegExp("("+E(r[1]||"")+")$","g"),l=new RegExp("[-"+E(t?"":i)+"]","g");n=n.replace(s,"").replace(o,"").replace(l,"")}return n},_getStubs:function(e){var t=/[^']([#0.,]+)/g.exec(e),a=t&&t[0].trim();return e.split(a).map(function(i){return i.replace(/'/g,"")})},_truncateToPrecision:function(e,t){if(V(e)){var a=e.toString(),i=a.indexOf(".");if(a&&i>-1){var r=parseFloat(a.substr(0,i+t+1));return isNaN(r)?e:r}}return e},_tryParse:function(e,t,a){var i=this._replaceSelectedText(e,t,a),r=this._getFormatPattern(),n=t.start!==t.end,s=this._getParsedValue(i,r),o=!r.parser&&this._getPrecisionLimits(i).max,l=s!==this._parsedValue,v=u.getDecimalSeparator(),_=a===v&&o===0,c=!n&&!l&&a!==ee&&!this._isValueIncomplete(i)&&this._isStub(a);if(!(_||c)&&(this._removeStubs(i)===""&&(s=Math.abs(0*this._parsedValue)),!isNaN(s))){var B=s===null?this._parsedValue:s;return s=o?this._truncateToPrecision(B,o):s,!r.parser&&this._isPercentFormat()?me(s,o):s}},_getParsedValue:function(e,t){var a=u.getSign(e,(t==null?void 0:t.formatter)||t),i=this._removeStubs(e,!0),r=this._parse(i,t),n=r<0?-1:1,s=Y(r)&&a!==n?a*r:r;return s},_isValueIncomplete:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret(),a=u.getDecimalSeparator(),i=this._getTextSeparatorIndex(e),r=i>=0&&i<t.start,n=this._removeStubs(e,!0).split(a);if(!r||n.length!==2)return!1;var s=n[1].length,o=this._getFormatPattern(),l=!!o.parser,v=!l&&this._getPrecisionLimits(this._getFormatPattern(),e),_=l?!0:L(s,v.min,v.max),c=n[1].charAt(s-1)==="0";return _&&(c||!s)},_isValueInRange:function(e){var t=b(this.option("min"),-1/0),a=b(this.option("max"),1/0);return L(e,t,a)},_setInputText:function(e){var t=u.convertDigits(e,!0),a=Ve(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(a)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var e=this.option("mode")==="number",t=F.real().deviceType==="desktop";this._useMaskBehavior()&&e?this._setInputType(t||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(e){return A(e)&&e.length===1},_moveCaret:function(e){if(!!e){var t=p(this._caret(),e),a=d(t,this._getInputVal(),this._getFormatPattern());this._caret(a)}},_shouldHandleKey:function(e){var t=x(e),a=I(e)||e.altKey||e.shiftKey||!this._isChar(t),i=t===C,r=this._useMaskBehavior();return r&&!a&&!i},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){h.off(this._input(),"."+w)},_isInputFromPaste:function(e){var t=e.originalEvent&&e.originalEvent.inputType;return V(t)?t==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();h.on(e,f(ke,w),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),h.on(e,f("dxclick",w),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(d(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),te))}.bind(this)),h.on(e,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(e){var t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)},_isStub:function(e,t){var a=E(u.getDecimalSeparator()),i="^[^0-9"+a+"]+$",r=new RegExp(i,"g");return r.test(e)&&(t||this._isChar(e))},_parseValue:function(e){return this._useMaskBehavior()?this._parsedValue:this.callBase(e)},_getPrecisionLimits:function(e){var t=this._getFormatForSign(e),a=P(t).index,i=(j(t,a)[1]||"").replace(/[^#0]/g,""),r=i.replace(/^(0*)#*/,"$1").length,n=i.length;return{min:r,max:n}},_revertSign:function(e){if(!!this._useMaskBehavior()){var t=this._caret();if(t.start!==t.end)if(x(e)===C){this._applyRevertedSign(e,t,!0);return}else this._caret(d(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(e,t)}},_applyRevertedSign:function(e,t,a){var i=-1*b(this._parsedValue,null);if((this._isValueInRange(i)||i===0)&&(this._parsedValue=i,a)){var r=this._getFormatPattern(),n=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var s=this._getInputVal(),o=Ce(n,s,r);t=p(t,o);var l=d(t,s,r);this._caret(l)}},_removeMinusFromText:function(e,t){var a=this._lastKeyName===C&&e.charAt(t.start-1)===ee;return a?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e},_setTextByParsedValue:function(){var e=this._getFormatPattern(),t=this._parseValue(),a=this._format(t,e)||"";this._setInputText(a)},_formatValue:function(e){var t=this._getInputVal(),a=this._caret(),i=this._removeMinusFromText(t,a),r=i!==t;if(t=i,!this._isInputFromPaste(e)&&this._isValueIncomplete(i)){this._formattedValue=t,r&&this._setTextByParsedValue();return}var n=u.convertDigits(this._formattedValue,!0)!==t;if(n){var s=this._tryParse(t,a,"");V(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())},_adjustParsedValue:function(){if(!!this._useMaskBehavior()){var e=this._removeStubs(this._getInputVal()),t=e?this._parseValue():null;if(!Y(t)){this._parsedValue=t;return}this._parsedValue=N(t,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)},_optionChanged:function(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(e);break;default:this.callBase(e)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});fe("dxNumberBox",re);var Ae=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as N,Ae as n};
