import{b as e,W as r,o as a,c as d,w as p,k as m,F as f,p as u,a as g,v as i,y as c}from"./app.91faff10.js";import{_ as h}from"./AppLayout.019f9519.js";import{_}from"./AdminLayout.d05922ad.js";import x from"./ModalNuovoUtente.ddbcce57.js";import y from"./ModalModificaUtente.28800aec.js";import"./index.fc9ac9bc.js";const v={class:"sm:flex sm:items-center"},b=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Utenti Sphere"),e("p",{class:"mt-2 text-sm text-gray-700"},"Gestione ruoli e permessi.")],-1),M={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},w={class:"-mx-4 mt-8 overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:-mx-6 md:mx-0 md:rounded-lg"},U={class:"min-w-full divide-y divide-gray-300"},$=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Utente Sphere"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"},"Medico"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 sm:table-cell"},"Attivo"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Ruolo"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"})])],-1),k={class:"divide-y divide-gray-200 bg-white"},N={class:"w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:w-auto sm:max-w-none sm:pl-6"},C={class:"font-normal lg:hidden"},O={class:"mt-1 truncate text-gray-700"},I={class:"mt-1 truncate text-gray-500 sm:hidden"},B={class:"hidden px-3 py-4 text-sm text-gray-500 lg:table-cell"},S={class:"hidden px-3 py-4 text-sm text-gray-500 sm:table-cell"},V={class:"px-3 py-4 text-sm text-gray-500"},j={class:"py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},z=["onClick"],F={layout:h,data(){return{modalNuovoUtenteOpen:!1,modalModificaId:null}},methods:{apriModalModifica(l){this.modalModificaId=l},refresh(){this.modalNuovoUtenteOpen=!1,this.modalModificaId=null,r.reload()},utenteCreato(){this.modalNuovoUtenteOpen=!1,r.reload()}}},W=Object.assign(F,{__name:"Utenti",setup(l){return(t,s)=>(a(),d(_,null,{default:p(()=>[e("div",v,[b,e("div",M,[e("button",{onClick:s[0]||(s[0]=o=>t.modalNuovoUtenteOpen=!0),type:"button",class:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"}," Nuovo utente ")])]),e("div",w,[e("table",U,[$,e("tbody",k,[(a(!0),m(f,null,u(t.$page.props.utenti,o=>{var n;return a(),m("tr",{key:o.id},[e("td",N,[g(i(o.username)+" ",1),e("dl",C,[e("dd",O,i(o.medico?o.medico.ragione_sociale:""),1),e("dd",I,i(o.attivo),1)])]),e("td",B,i(o.medico?o.medico.ragione_sociale:""),1),e("td",S,i(o.attivo?"SI":"NO"),1),e("td",V,i((n=o.role)==null?void 0:n.name),1),e("td",j,[e("button",{onClick:A=>t.apriModalModifica(o.id),class:"text-indigo-600 hover:text-indigo-900"}," Modifica ",8,z)])])}),128))])])]),t.modalNuovoUtenteOpen?(a(),d(x,{key:0,onChiudiModal:s[1]||(s[1]=o=>t.modalNuovoUtenteOpen=!1),onUtenteCreato:t.refresh,medici:t.$page.props.medici_senza_utente,ruoli:t.$page.props.ruoli},null,8,["onUtenteCreato","medici","ruoli"])):c("",!0),t.modalModificaId?(a(),d(y,{key:1,onChiudiModal:s[2]||(s[2]=o=>t.modalModificaId=null),onUtenteModificato:t.refresh,id:t.modalModificaId,medici:t.$page.props.medici_senza_utente,ruoli:t.$page.props.ruoli},null,8,["onUtenteModificato","id","medici","ruoli"])):c("",!0)]),_:1}))}});export{W as default};
